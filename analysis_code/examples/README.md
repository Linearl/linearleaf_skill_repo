# 代码分析示例

本目录包含使用 analysis_code skill 的示例场景。

## 📋 示例场景

### 场景1: 基础代码质量分析

**用户请求**:
> 我想对这个Python项目进行代码质量分析

**Copilot 执行流程**:

1. **需求解析**:
   - 分析类型: 代码质量分析
   - 技术栈: Python
   - 重点: 代码质量（默认包含可读性、可维护性、复杂度）

2. **确认信息** (暂停点):
   ```
   我理解您需要对 Python 项目进行代码质量分析，将重点关注：
   - 代码复杂度
   - 可读性（命名、注释）
   - 可维护性（模块化、重复代码）
   
   请确认以上理解是否正确？
   ```

3. **创建分析计划**:
   - 创建 `master_analysis_plan.md`
   - 规划 2-3 轮分析

4. **执行分析循环**:
   - 轮次1: 初始质量评估 → 收集指标 → 识别问题
   - 轮次2: 深度分析（如需要）

5. **生成报告**:
   - `final_analysis_report.md`
   - `executive_summary.md`

---

### 场景2: 重构前分析

**用户请求**:
> 我准备重构这个模块，需要先进行分析评估，看看哪些地方需要重构

**Copilot 执行流程**:

1. **需求解析**:
   - 分析类型: 重构评估
   - 范围: 指定模块
   - 目标: 识别重构点和风险

2. **分析重点**:
   - 代码结构和依赖
   - 复杂度热点
   - 技术债务
   - 重构风险评估

3. **额外输出**:
   - 重构优先级排序
   - 重构建议和策略
   - 风险评估

---

### 场景3: 技术债务识别

**用户请求**:
> 帮我识别这个项目的技术债务，我想知道有哪些需要改进的地方

**Copilot 执行流程**:

1. **分析维度**:
   - 代码异味（长函数、大类、重复代码）
   - 过时模式和API
   - 缺失的文档和测试
   - 违反设计原则

2. **量化债务**:
   - 估算修复成本
   - 优先级排序
   - ROI 评估

3. **输出**:
   - 技术债务清单
   - 修复建议
   - 改进路线图

---

## 💡 使用技巧

### 提供清晰的分析目标

✅ 好的请求:
- "分析这个模块的代码质量，重点关注可维护性"
- "评估这个项目的技术债务，为重构做准备"
- "检查性能热点，找出优化机会"

❌ 模糊的请求:
- "帮我看看代码"
- "分析一下"

### 指定分析范围

如果项目较大，建议指定分析范围：
- "分析 `src/core` 目录下的代码"
- "重点分析 `data_processor.py` 模块"

### 利用暂停点

在每个暂停点：
- 确认分析方向是否正确
- 提供额外的项目背景
- 调整分析重点

---

## 📁 示例输出结构

```
tasks/
└── my_project_质量分析/
    ├── master_plan/
    │   ├── master_analysis_plan.md
    │   ├── final_analysis_report.md
    │   └── executive_summary.md
    └── 1_初始质量评估/
        ├── summary/
        │   ├── round_analysis_report.md
        │   └── round_recommendations.md
        ├── metrics/
        │   └── metrics.json
        └── reports/
            └── code_review.md
```
